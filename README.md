# ServeSoftware  
**Restaurant Management System – MVP Version**

Интелигентна платформа за управление на поръчки, маси, кухня, бар и персонал в ресторантска среда.

---

## 1. Описание на продукта

**ServeSoftware** е уеб-базирана система, която обединява сервитьори, кухня, бар и мениджмънт в единен работен процес.  
Целта е да се намалят грешките, да се ускори обслужването и да се предостави прозрачност за управлението.

### Основни предимства
- Бързо приемане и обработка на поръчки  
- Статуси в реално време (кухня, бар, маси)  
- Пълна проследимост на процесите  
- Базови AI прогнози (натоварване, популярни артикули)  
- Клиентски QR код за поръчка  
- Генериране на PDF сметки  

---

## 2. Потребителски роли

| Роля | Права |
|----|----|
| **Собственик** | Меню, служители, маси, роли, метрики, пълен контрол |
| **Мениджър** | Управление на служители и меню, наблюдение в реално време |
| **Сервитьор** | Създава и обработва поръчки, следи маси, получава известия |
| **Готвач / Барман** | Вижда нови поръчки по тип, маркира статуси |
| **Клиент** | Разглежда меню, избира артикули, генерира QR код |

---

## 3. User Flow

### 3.1 Клиент
1. Отваря уеб менюто  
2. Избира артикули  
3. Генерира QR код  
4. Показва го на сервитьор  

### 3.2 Сервитьор
1. Сканира QR кода  
2. Преглежда и потвърждава поръчката  
3. Избира маса  
4. Поръчката се запазва в база данни
5. Поръчката се визуализира на таблото в кухнята/бара

### 3.3 Кухня / Бар
- Виждат нови поръчки в реално време  
- Маркират статуси: `в процес` / `готово`  

### 3.4 Управител
- Проследява активността  
- Следи натовареността  
- Управлява меню и персонал  

---

## 4. Функционалности (MVP)

### 4.1 Интелигентни функции (AI – базови)
- Прогноза за натоварване  
- Идентифициране на популярни артикули  
- Изчисляване на средно време за приготвяне  
- Базови графики и препоръки  

### 4.2 Касови функции
- Управление на сметки  
- Генериране на PDF документ  

### 4.3 Real-time модул
- Актуализации на маси и поръчки в реално време  
- Синхронизация между сервитьори, бармани, кухня и мениджър  

### 4.4 Админ панел
- Управление на меню, категории, служители и роли  
- Контрол на достъпа  

---

## 5. Backend архитектура (Firebase)

### 5.3 Структура на базата данни (Firestore)

**Колекции:**
- menus
- menu_categories
- tables
- employees
- carts
- orders
- analytics

**Примерна структура за поръчка:**
```json
{
  "tableId": "T03",
  "waiterId": "emp001",
  "items": [
    { "id": "drink001", "qty": 1, "type": "bar", "status": "pending" },
    { "id": "meal002", "qty": 2, "type": "kitchen", "status": "pending" }
  ],
  "status": "new",
  "createdAt": 1702050000000
}
```

### 5.4 Минимални Cloud Functions
- convertCartToOrder()
- generatePdfBill()
- onOrderCreated()
- cleanupExpiredCarts()
- aiPredictMetrics()

### 5.5 Сигурност
- **Служители** → Firebase Auth
- **Роли** → Firestore

**Примерно правило (Security Rules):**
```js
match /orders/{id} {
  allow read: if request.auth != null;
  allow write: if request.auth.token.role in ["waiter", "manager", "owner"];
}
```

---

## 6. QR Workflow

1. Клиент избира артикули
2. Създава се `cart`
3. Генерира се QR код с `cartId`
4. Сервитьорът сканира QR кода
5. Създава се поръчка → изпраща се към кухня/бар

---

## 7. Roadmap (MVP)

### Sprint 1: Основни модули
- Меню → QR → Поръчка → Кухня

### Sprint 2: Админ панел
- Маси
- Служители
- Роли
- Категории

### Sprint 3: Real-time
- Live статуси
- Realtime listeners

### Sprint 4: Финализиране
- AI прогнози
- PDF сметки
- Оптимизация

### Sprint 4: Финализиране
- AI прогнози  
- PDF сметки  
- Оптимизация  

---
