:root{
    --bg: #fbfaf8;
    --surface: #ffffff;
    --muted: #8b8b8b;
    --border: #d6d3cd;
    --accent-blue: #2b7be9;
    --accent-green: #2f9a66;
    --accent-orange: #d99334;
    --accent-darkgreen: #256b49;
    --danger: #e53935;
    --radius-lg: 14px;
    --radius-md: 10px;
    --shadow-subtle: 0 2px 0 rgba(0,0,0,0.04) inset;
  }
  
  *{box-sizing: border-box; -webkit-tap-highlight-color: transparent;}
  html,body{height:100%; margin:0; padding:0; overflow-x:hidden;}
  body{
    background:var(--bg);
    color:#111;
    font-family:'Poppins', system-ui, -apple-system, sans-serif;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    line-height:1.3;
    touch-action: pan-y;
  }
  
  /* Header */
  header.topbar{
    height:56px;
    background:var(--surface);
    border-bottom:1px solid var(--border);
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:8px;
    padding:0 12px;
    position:sticky;
    top:0;
    z-index:100;
  }
  .left-controls { display:flex; align-items:center; gap:10px; }
  .title { font-weight:800; font-size:17px; }
  
  /* Top Navigation - Desktop */
  nav.top-nav {
    display:none;
  }
  
  .user-area{ display:flex; align-items:center; gap:8px; }
  select#langSelect{ 
    padding:6px 10px; 
    border-radius:8px; 
    border:1px solid var(--border); 
    background:#fff; 
    font-size:14px;
    font-weight:600;
  }
  .user-name{ font-weight:600; font-size:14px; display:none; }
  button.exit{ 
    background:none; 
    border:none; 
    color:var(--danger); 
    font-weight:700; 
    font-size:14px;
    padding:8px;
    cursor:pointer;
  }
  button.back-btn{ 
    background:none; 
    border:none; 
    color:var(--accent-blue); 
    font-weight:700; 
    font-size:14px;
    padding:8px 12px;
    cursor:pointer;
    display:flex;
    align-items:center;
    gap:6px;
    border-radius:8px;
    transition:all 0.2s;
  }
  button.back-btn:hover{ 
    background:#f5f4f3;
  }
  button.back-btn:active{ 
    opacity:0.8;
  }
  
  /* Bottom Navigation (Mobile) */
  nav.bottom-nav{
    position:fixed;
    bottom:0;
    left:0;
    right:0;
    height:64px;
    background:var(--surface);
    border-top:1px solid var(--border);
    display:flex;
    justify-content:space-around;
    align-items:center;
    z-index:100;
    padding:0 4px;
  }
  nav.bottom-nav button{
    flex:1;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    gap:4px;
    padding:8px 4px;
    border:none;
    background:transparent;
    border-radius:12px;
    cursor:pointer;
    font-size:11px;
    font-weight:700;
    color:#666;
    transition:all 0.2s;
  }
  nav.bottom-nav button.active{
    background:#faf7f4;
    color:#111;
  }
  nav.bottom-nav .icon{ font-size:22px; }
  
  /* Main content */
  main.main {
    padding:12px 12px 80px 12px;
    overflow-y:auto;
    -webkit-overflow-scrolling:touch;
    min-height:calc(100vh - 56px - 64px);
  }
  
  .view{ display:none; }
  .view.active{ display:block; }
  
  /* Tables Grid */
  .tables-grid{
    display:grid;
    grid-template-columns:repeat(auto-fill, minmax(140px, 1fr));
    gap:10px;
    padding:8px 0 20px 0;
  }
  .table-chip{
    padding:16px;
    border-radius:12px;
    border:2px solid var(--border);
    background:var(--surface);
    font-weight:700;
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:10px;
    box-shadow:0 1px 3px rgba(0,0,0,0.06);
    cursor:pointer;
    transition:transform 0.1s;
    min-height:100px;
    justify-content:center;
  }
  .table-chip:active{ transform:scale(0.97); }
  .table-chip .name{ font-size:16px; font-weight:800; }
  .table-chip .status{ font-weight:700; padding:6px 12px; border-radius:10px; font-size:13px; }
  .table-chip .info {
    font-size:12px;
    color:var(--muted);
    font-weight:600;
    margin-top:4px;
    display:none;
  }
  .table-chip.free { background:#dff2f9; color:#073b46; }
  .table-chip.busy { background:#ef8a3a; color:#fff; }
  .table-chip.ready { background:#2f9a66; color:#fff; }
  
  /* Card */
  .card{
    background:var(--surface);
    border:1px solid var(--border);
    border-radius:var(--radius-lg);
    padding:14px;
    margin-bottom:14px;
    box-shadow:0 1px 3px rgba(0,0,0,0.04);
  }
  .card h2{ font-size:18px; font-weight:800; margin:0 0 10px 0; }
  .muted { color:var(--muted); font-weight:500; font-size:14px; }
  
  /* Order Container */
  .order-container {
    display:block;
  }
  
  /* Order Items */
  .order-items{ border-top:1px solid var(--border); padding-top:10px; margin-top:10px; }
  .order-item{ 
    display:flex; 
    justify-content:space-between; 
    align-items:flex-start; 
    padding:12px 4px; 
    border-bottom:1px solid rgba(0,0,0,0.03); 
  }
  .order-item .left { max-width:60%; }
  .order-item .name{ font-weight:800; font-size:15px; }
  .order-item .meta{ color:var(--muted); font-size:12px; margin-top:4px; }
  .order-item .right{ text-align:right; }
  .order-item .price{ color:var(--danger); font-weight:800; font-size:15px; margin-bottom:8px; }
  
  .small-btn{
    padding:6px 10px;
    border-radius:8px;
    border:1px solid var(--border);
    background:#fff;
    font-size:12px;
    font-weight:700;
    cursor:pointer;
    margin-left:4px;
  }
  
  .order-summary{ 
    display:flex; 
    justify-content:space-between; 
    align-items:center; 
    padding:12px 4px; 
    font-weight:800; 
    font-size:17px;
    border-top:2px solid var(--border);
    margin-top:10px;
  }
  
  /* Payment Card */
  .payment-card {
    position:static;
  }
  
  /* Payments Block */
  .payments-block{ 
    background:#f5f4f3; 
    border-radius:12px; 
    padding:12px; 
    border:1px solid var(--border);
    margin-top:10px;
  }
  .payments-block h3 {
    font-size:16px;
    font-weight:800;
    margin:0 0 12px 0;
  }
  .payment-types{ display:flex; gap:8px; flex-wrap:wrap; margin:10px 0; }
  .pay-btn{ 
    padding:10px 14px; 
    border-radius:12px; 
    border:2px solid var(--border); 
    background:var(--surface); 
    font-weight:700; 
    flex:1;
    min-width:70px;
    text-align:center; 
    cursor:pointer;
    font-size:13px;
  }
  .pay-btn.active{ background:var(--accent-green); color:#fff; border-color:transparent; }
  .amount-row{ font-weight:800; font-size:16px; margin:10px 0; display:flex; justify-content:space-between; }
  
  /* Tips */
  .tips{ display:flex; gap:8px; margin:10px 0; flex-wrap:wrap; }
  .tip-btn{ 
    padding:10px 14px; 
    border-radius:12px; 
    border:2px solid var(--border); 
    background:var(--surface); 
    font-weight:700; 
    cursor:pointer;
    flex:1;
    min-width:65px;
    text-align:center;
    font-size:13px;
  }
  .tip-btn.active {
    background:var(--accent-blue);
    color:#fff;
    border-color:var(--accent-blue);
  }
  input#customTip{ 
    padding:10px; 
    border-radius:10px; 
    border:1px solid var(--border);
    flex:1;
    min-width:90px;
    font-size:14px;
  }
  
  /* Comments */
  textarea#comments{ 
    width:100%; 
    min-height:70px; 
    padding:10px; 
    border-radius:12px; 
    border:1px solid var(--border); 
    resize:vertical; 
    font-family:inherit; 
    font-size:14px;
    margin-top:8px;
  }
  
  /* Complete Button */
  button#completePayment{ 
    margin-top:12px; 
    width:100%; 
    padding:14px; 
    border-radius:28px; 
    border:none; 
    background:var(--accent-blue); 
    color:#fff; 
    font-weight:800; 
    font-size:15px; 
    cursor:pointer;
  }
  button#completePayment:active{ opacity:0.9; }
  
  /* Menu */
  .menu { margin-top:8px; }
  .categories{ display:flex; gap:8px; overflow-x:auto; -webkit-overflow-scrolling:touch; padding-bottom:4px; }
  .cat-btn{ 
    padding:10px 16px; 
    border-radius:12px; 
    border:2px solid var(--border); 
    background:var(--surface); 
    font-weight:700; 
    cursor:pointer;
    white-space:nowrap;
    font-size:13px;
  }
  .cat-btn.active{ background:#fff; box-shadow:var(--shadow-subtle); }
  .menu-items{ display:flex; flex-direction:column; gap:8px; margin-top:10px; }
  .menu-item{ 
    display:flex; 
    justify-content:space-between; 
    align-items:center; 
    padding:12px; 
    border-radius:12px; 
    border:1px solid var(--border); 
    background:#fff;
  }
  .menu-item .mname{ font-weight:700; font-size:14px; }
  .menu-item .mprice{ color:var(--muted); font-size:13px; margin-top:2px; }
  .menu-item button.add{ 
    padding:8px 16px; 
    border-radius:10px; 
    border:1px solid var(--border); 
    background:#fff; 
    cursor:pointer;
    font-weight:700;
    font-size:13px;
  }
  
  /* Delivery List */
  .delivery-list{ display:flex; flex-direction:column; gap:10px; margin-top:10px; }
  .delivery-row{ 
    display:flex; 
    justify-content:space-between; 
    align-items:center; 
    padding:14px; 
    border-radius:12px; 
    border:1px solid var(--border); 
    background:#fff;
  }
  .delivery-row .info {
    flex:1;
  }
  .delivery-row .table {
    font-weight:800;
    font-size:15px;
    margin-bottom:2px;
  }
  .delivery-row .time {
    color:var(--muted);
    font-size:12px;
  }
  .delivery-row button.status{ 
    padding:8px 16px; 
    border-radius:12px; 
    border:none; 
    font-weight:700; 
    cursor:pointer; 
    color:#fff;
    font-size:13px;
  }
  
  /* Delivery - Print button */
  button#btnPrintOrders{
    width:100%;
    margin-top:12px;
    padding:14px 16px;
    border-radius:24px;
    border:none;
    background:var(--accent-blue);
    color:#fff;
    font-weight:800;
    font-size:14px;
    cursor:pointer;
    box-shadow:0 2px 8px rgba(0,0,0,0.08);
    transition:all 0.2s ease;
  }
  button#btnPrintOrders:hover{
    background:#2369cc;
    transform:translateY(-1px);
  }
  button#btnPrintOrders:active{
    transform:translateY(0);
    opacity:0.95;
  }
  
  /* Stats */
  .stats-list{ display:flex; flex-direction:column; gap:10px; font-size:15px; }
  .stats-list > div{ 
    padding:12px; 
    background:#fff; 
    border-radius:10px; 
    border:1px solid var(--border);
    display:flex;
    justify-content:space-between;
  }
  .stats-list .label {
    font-weight:600;
    color:var(--muted);
  }
  .stats-list .value {
    font-weight:800;
    font-size:18px;
  }
  
  .visually-hidden{ position:absolute; left:-9999px; width:1px; height:1px; overflow:hidden; }
  
  /* Landscape mode adjustments */
  @media (orientation: landscape) and (max-height: 500px) {
    main.main{ padding-bottom:70px; }
    .order-item{ padding:8px 4px; }
    .card{ padding:12px; }
  }
  
  /* =============================================== */
  /* ONE-PAGE LAYOUT FOR DESKTOP - Add after existing @media (min-width: 768px) rules */
  /* =============================================== */
  @media (min-width: 768px) {
    /* Override view display logic for desktop */
    .view {
      display: block !important;
      opacity: 1;
    }
    
    /* Hide back button on desktop since everything is visible */
    #backToTablesBtn {
      display: none;
    }
    
    /* Create dashboard grid layout */
    main.main {
      display: grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 24px;
      padding: 24px 32px;
      height: calc(100vh - 72px);
      overflow-y: auto;
    }
    
    /* Tables section - Left column */
    #view-tables {
      grid-column: 1 / 5;
      grid-row: 1;
    }
    
    /* Orders section - Middle column */
    #view-orders {
      grid-column: 5 / 9;
      grid-row: 1 / 3;
    }
    
    /* Payments section - Right column top */
    #view-payments {
      grid-column: 9 / 13;
      grid-row: 1;
    }
    
    /* Delivery section - Bottom left */
    #view-delivery {
      grid-column: 1 / 5;
      grid-row: 2;
    }
    
    /* Statistics section - Bottom right */
    #view-stats {
      grid-column: 9 / 13;
      grid-row: 2;
    }
    
    /* Remove navigation active state styling since all views are visible */
    nav.top-nav button.active {
      background: transparent;
      color: #2b7be9;
      box-shadow: none;
      border-bottom: 3px solid #2b7be9;
      border-radius: 0;
    }
    
    /* Adjust cards for one-page layout */
    .view .card {
      height: 100%;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }
    
    /* Make scrollable content areas */
    .tables-grid,
    .order-items,
    .menu-items,
    .delivery-list,
    #checksList {
      overflow-y: auto;
      max-height: calc(100vh - 300px);
      padding-right: 8px;
    }
    
    /* Custom scrollbar for desktop */
    .tables-grid::-webkit-scrollbar,
    .order-items::-webkit-scrollbar,
    .menu-items::-webkit-scrollbar,
    .delivery-list::-webkit-scrollbar,
    #checksList::-webkit-scrollbar {
      width: 6px;
    }
    
    .tables-grid::-webkit-scrollbar-track,
    .order-items::-webkit-scrollbar-track,
    .menu-items::-webkit-scrollbar-track,
    .delivery-list::-webkit-scrollbar-track,
    #checksList::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 10px;
    }
    
    .tables-grid::-webkit-scrollbar-thumb,
    .order-items::-webkit-scrollbar-thumb,
    .menu-items::-webkit-scrollbar-thumb,
    .delivery-list::-webkit-scrollbar-thumb,
    #checksList::-webkit-scrollbar-thumb {
      background: #888;
      border-radius: 10px;
    }
    
    .tables-grid::-webkit-scrollbar-thumb:hover,
    .order-items::-webkit-scrollbar-thumb:hover,
    .menu-items::-webkit-scrollbar-thumb:hover,
    .delivery-list::-webkit-scrollbar-thumb:hover,
    #checksList::-webkit-scrollbar-thumb:hover {
      background: #555;
    }
    
    /* Adjust tables grid for smaller container */
    #view-tables .tables-grid {
      grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
      gap: 12px;
    }
    
    #view-tables .table-chip {
      min-height: 140px;
      padding: 16px;
    }
    
    #view-tables .table-chip .name {
      font-size: 18px;
    }
    
    /* Order container adjustment for one-page */
    .order-container {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }
    
    /* Payment card no longer sticky */
    .payment-card {
      position: static;
    }
    
  /* Add this to your existing @media (min-width: 768px) section */
  @media (min-width: 768px) {
    /* Hide bottom navigation on desktop - ALREADY EXISTS, keep it */
    nav.bottom-nav {
      display: none;
    }
    
    /* Fix menu section height */
    .menu {
      max-height: 400px;
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }
    
    .menu .card {
      max-height: 400px;
      overflow: hidden;
    }
    
    .menu-items {
      max-height: 250px !important;
      overflow-y: auto;
    }
    
    .categories {
      flex-shrink: 0;
      margin-bottom: 12px;
    }
  }
    
    /* Stats compact layout */
    .stats-list {
      grid-template-columns: 1fr;
      gap: 12px;
    }
    
    .stats-list > div {
      padding: 16px;
    }
    
    .stats-list .value {
      font-size: 18px;
    }
  }
  
  /* Extra large screens - more horizontal space */
  @media (min-width: 1600px) {
    #view-tables .tables-grid {
      grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    }
    
    .menu-items {
      grid-template-columns: repeat(2, 1fr);
    }
  
  }
  
  /* Large Desktop Optimizations */
  @media (min-width: 1400px) {
    .tables-grid{
      grid-template-columns:repeat(auto-fill, minmax(320px, 1fr));
    }
    
    .order-container {
      grid-template-columns:1.6fr 1fr;
    }
  }